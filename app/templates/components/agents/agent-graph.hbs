<!-- Menu -->
<div id='agents-overview'>

  <div local-class="agent-list-header clearfix">
    <h4>Agent Definitions</h4>
  </div>

  <div class="agents-overview-list-content">
    {{#ui-accordion exclusive=false}}
    <button class="ui yellow icon button rightmost" {{action "createagent"}} local-class="right-aligned ui button">
      <i class="add icon no-side-margins"></i>
    </button>

    <div class="active title overview-list-title">
      <i class="dropdown icon"></i>Agent Templates
    </div>

    <ul class="active content" local-class="agent-list-content">
      {{#each this.availableAgents as |value|}}
      <li data-value={{value.uri}} data-tooltip={{value.uri}} data-position="top left" class="item" local-class="agent-list-item">
        <button {{action "setActiveAgent" value }}>
          <!-- <img local-class="agent-list-item-icon" src="/icons/template.png" /> -->
          <i local-class="agent-list-item-icon" class="user icon"></i>
          <div>{{value.label}}</div>
        </button>
        <i class="agent-list-item-marker"></i>
      </li>
      {{/each}}
    </ul>
    {{/ui-accordion}}
  </div>

  <br />

  <div class="agents-overview-list-content">
    {{#ui-accordion exclusive=false}}
    <button {{action "createbehavior" "initial"}} class="ui yellow icon button rightmost" local-class="right-aligned ui button">
      <i class="add icon no-side-margins"></i>
    </button>
    <div class="active title overview-list-title">
      <i class="dropdown icon"></i>Initial Behaviors
    </div>
    <ul class="active content" local-class="agent-list-content">

      {{#each this.availableBehaviors.initial as |value|}}
      {{#if value.uri}}
      <li data-value={{value.uri}} class="item" data-tooltip={{value.uri}} data-position="top left" local-class="agent-list-item">
        <button {{action "setActiveBehavior" value "initial"}}>
          <i local-class="agent-list-item-icon" class="share alternate icon"></i>
          <div>{{value.label}}</div>
        </button>
        <i class="agent-list-item-marker"></i>
      </li>
      {{/if}}
      {{/each}}
    </ul>
    {{/ui-accordion}}
  </div>

  <br />

  <div class="agents-overview-list-content">
    {{#ui-accordion exclusive=false}}
    <button {{action "createbehavior" "final"}} class="ui yellow icon button rightmost" local-class="right-aligned ui button">
      <i class="add icon no-side-margins"></i>
    </button>
    <div class="active title overview-list-title">
      <i class="dropdown icon"></i>Final Behaviors
    </div>
    <ul class="active content" local-class="agent-list-content">
      {{#each this.availableBehaviors.final as |value|}}
      {{#if value.uri}}
      <li data-value={{value.uri}} class="item" data-tooltip={{value.uri}} data-position="top left" local-class="agent-list-item">
        <button {{action "setActiveBehavior" value "final"}}>
          <i local-class="agent-list-item-icon" class="share alternate icon"></i>
          <div>{{value.label}}</div>
        </button>
        <i class="agent-list-item-marker"></i>
      </li>
      {{/if}}
      {{/each}}
    </ul>
    {{/ui-accordion}}
  </div>

  <br />

  <div class="agents-overview-list-content">
    {{#ui-accordion exclusive=false}}
    <button {{action "createbehavior"}} class="ui yellow icon button rightmost" local-class="right-aligned ui button">
      <i class="add icon no-side-margins"></i>
    </button>
    <div class="active title overview-list-title">
      <i class="dropdown icon"></i>Behaviors
    </div>
    <ul class="active content" local-class="agent-list-content">
      {{#each this.availableBehaviors.regular as |value|}}
      <li data-value={{value.uri}} class="item" data-tooltip={{value.uri}} data-position="top left" local-class="agent-list-item">
        <button {{action "setActiveBehavior" value "regular"}}>
          <i local-class="agent-list-item-icon" class="share alternate icon"></i>
          <div>{{value.label}}</div>
        </button>
        <i class="agent-list-item-marker"></i>
      </li>
      {{/each}}
    </ul>
    {{/ui-accordion}}
  </div>

  <br />

  <div class="agents-overview-list-content">
    {{#ui-accordion exclusive=false}}
    <button {{action "createendpoint"}} class="ui yellow icon button rightmost" local-class="right-aligned ui button">
      <i class="add icon no-side-margins"></i>
    </button>
    <div class="active title overview-list-title">
      <i class="dropdown icon"></i>Endpoints
    </div>

    <ul class="active content" local-class="agent-list-content">
      {{#each this.availableEndpoints as |value|}}
      <li data-value={{value.uri}} class="item" data-tooltip={{value.uri}} data-position="top left" local-class="agent-list-item">
        <button {{action "setActiveEndpoint" value}}>
          <i local-class="agent-list-item-icon" class="envelope icon"></i>
          <div>{{value.label}}</div>
        </button>
        <i class="agent-list-item-marker"></i>
      </li>
      {{/each}}
    </ul>
    {{/ui-accordion}}
  </div>

  <br />

  <div class="agents-overview-list-content">
    {{#ui-accordion exclusive=false}}
    <button {{action "createevent"}} class="ui yellow icon button rightmost" local-class="right-aligned ui button">
      <i class="add icon no-side-margins"></i>
    </button>
    <div class="active title overview-list-title">
      <i class="dropdown icon"></i>Events
    </div>
    <ul class="active content" local-class="agent-list-content">
      {{#each this.availableEvents as |value|}}
      <li data-value={{value.uri}} class="item" data-tooltip={{value.uri}} data-position="top left" local-class="agent-list-item">
        <button {{action "setActiveEvent" value}}>
          <i local-class="agent-list-item-icon" class="star icon"></i>
          <div>{{value.label}}</div>
        </button>
        <i class="agent-list-item-marker"></i>
      </li>
      {{/each}}
    </ul>
    {{/ui-accordion}}
  </div>

  <br />

  <div class="agents-overview-list-content">
    {{#ui-accordion exclusive=false}}
    <button {{action "creategoal"}} class="ui yellow icon button rightmost" local-class="right-aligned ui button">
      <i class="add icon no-side-margins"></i>
    </button>
    <div class="active title overview-list-title">
      <i class="dropdown icon"></i>Goals
    </div>
    <ul class="active content" local-class="agent-list-content">

      {{#each this.availableGoals as |value|}}

      <li data-value={{value.uri}} class="item" data-tooltip={{value.uri}} data-position="top left" local-class="agent-list-item">
        <button {{action "setActiveGoal" value}}>
          <i local-class="agent-list-item-icon" class="trophy icon"></i>
          <div>{{value.label}}</div>
        </button>
        <i class="agent-list-item-marker"></i>
      </li>
      {{/each}}
    </ul>
    {{/ui-accordion}}
  </div>

  <div class="agents-overview-footer"></div>
 </div>

  <!-- Content -->
  <div id='agent-item'>
    <div class="agentshow">
      {{agents/agent-item overview=this
                            activeAgent=this.activeAgent
                            JSnewcheckedPermissions=this.JSnewcheckedPermissions
                            availableBehaviors=this.availableBehaviors
                            availableEvents=this.availableEvents
                            availableEndpoints=this.availableEndpoints
                            availableGoals=this.availableGoals
                            availableEventsandGoals=this.availableEventsandGoals
      }}
    </div>

    <div class="behaviorshow">
      {{agents/agent-behavior
                                  overview=this
                                  activeBehavior=this.activeBehavior availableBehaviors=this.availableBehaviors
                                  availableEvents=this.availableEvents
                                  availableEndpoints=this.availableEndpoints
                                  availableGoals=this.availableGoals
                                  availableEventsandGoals=this.availableEventsandGoals
                                  regularBehavior=this.regularBehavior
								                  availableBTs=this.availableBTs
      }}
    </div>

    <div class="eventshow">
      {{agents/agent-event
                            overview=this
                            availableBehaviors=this.availableBehaviors
                            activeEvent=this.activeEvent availableEvents=this.availableEvents
                            availableEndpoints=this.availableEndpoints
                            availableGoals=this.availableGoals
      }}
    </div>

    <div class="endpointshow">
      {{agents/agent-endpoint
                              overview=this
                              availableBehaviors=this.availableBehaviors
                              availableEvents=this.availableEvents
                              activeEndpoint=this.activeEndpoint availableEndpoints=this.availableEndpoints
                              availableGoals=this.availableGoals
                              availableEventsandGoals=this.availableEventsandGoals
      }}
    </div>

    <div class="goalshow">
      {{agents/agent-goal
                            overview=this
                            availableBehaviors=this.availableBehaviors
                            availableEvents=this.availableEvents
                            availableEndpoints=this.availableEndpoints
                            activeGoal=this.activeGoal availableGoals=this.availableGoals
      }}
    </div>
  </div>
  
